import requests
import re

from bs4 import BeautifulSoup
from termcolor import colored

def extract_words_from_url(url):
    response = requests.get(url)
    soup = BeautifulSoup(response.content, 'html.parser')

    text = soup.get_text()
    words = re.findall(r'\w+', text.lower())

    return set(words)

def web_words_dict(url):
    words = extract_words_from_url(url)
    
    print(colored("\nPOSIBLE WORDS:", 'green', attrs=['underline', 'dark']))

    common_words = {'posts', 'powered', 'images', 'image', 'post', 'edit', 'view', 'home', 'would', 'have', 'their', 'were', 'what', 'there', 'which', 'when', 'your', 'said', 'will', 'each', 'they', 'give', 'just', 'most', 'people', 'some', 'could', 'only', 'other', 'than', 'more', 'these', 'her', 'would', 'about', 'after', 'them', 'been', 'also', 'into', 'many', 'because', 'how', 'has', 'much', 'who', 'over', 'two', 'like', 'even', 'through', 'being', 'down'}

    for word in words:
        if len(word) > 3 and word not in common_words:
            print(colored(f"   {word}", 'cyan'))
